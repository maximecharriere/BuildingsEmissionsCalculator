[{"path":[]},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/articles/BuildingsEmissionsCalculator.html","id":"install-r","dir":"Articles","previous_headings":"Getting started","what":"Install R","title":"BuildingsEmissionsCalculator","text":"Download install R","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/articles/BuildingsEmissionsCalculator.html","id":"install-rstudio-ide-optional","dir":"Articles","previous_headings":"Getting started","what":"Install RStudio IDE (optional)","title":"BuildingsEmissionsCalculator","text":"step optional. IDE none can used.Download install RStudio","code":""},{"path":[]},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/articles/BuildingsEmissionsCalculator.html","id":"from-r-command-line","dir":"Articles","previous_headings":"Getting started > Install packages","what":"From R command line","title":"BuildingsEmissionsCalculator","text":"","code":"install.packages(\"C:/path/to/co2calculatorPACTA2022_1.2.2.tar.gz\", repos = NULL, type = \"source\") install.packages(\"C:/path/to/BuildingsEmissionsCalculator_0.0.1.tar.gz\", repos = NULL, type = \"source\")"},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/articles/BuildingsEmissionsCalculator.html","id":"from-rstudio","dir":"Articles","previous_headings":"Getting started > Install packages","what":"From RStudio","title":"BuildingsEmissionsCalculator","text":"Click Tools → Install Packages Select Package Archive File (.zip, .tar.gz) Install : slot Find corresponding file local machine, click Open Click Install","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/articles/BuildingsEmissionsCalculator.html","id":"run-buildingsemissionscalculator","dir":"Articles","previous_headings":"Getting started > Install packages","what":"Run BuildingsEmissionsCalculator","title":"BuildingsEmissionsCalculator","text":"Run following R code","code":"library(co2calculatorPACTA2022) library(BuildingsEmissionsCalculator)  # Choose if the File Explorer is used to seach Excel file INTERACTIVE <- FALSE  # Load the Excel file if (INTERACTIVE) {   file_in <- file.choose() # Use File Explorer } else {   file_in <- \"path/to/building_data.xlsx\" } buildings_df <- readxl::read_excel(file_in, n_max = 10)  # Call the BuildingsEmissionsCalculator buildings_df <- fill_buildings_df(buildings_df)  # Save the data to a Excel file if (INTERACTIVE) {   file_out <- file.choose() # Use File Explorer } else {   file_out <- sub(\"\\\\.xlsx$\", \"_filled.xlsx\", file_in) } writexl::write_xlsx(buildings_df, file_out)"},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Maxime Charriere. Author, maintainer.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Charriere M (2024). BuildingsEmissionsCalculator: BuildingsEmissionsCalculator. R package version 0.0.1, https://maximecharriere.github.io/BuildingsEmissionsCalculator/.","code":"@Manual{,   title = {BuildingsEmissionsCalculator: BuildingsEmissionsCalculator},   author = {Maxime Charriere},   year = {2024},   note = {R package version 0.0.1},   url = {https://maximecharriere.github.io/BuildingsEmissionsCalculator/}, }"},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/index.html","id":"buildingsemissionscalculator","dir":"","previous_headings":"","what":"BuildingsEmissionsCalculator","title":"BuildingsEmissionsCalculator","text":"goal FinancedEmissionsCalculator … # TODO","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"BuildingsEmissionsCalculator","text":"can install development version BuildingsEmissionsCalculator GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"maximecharriere/BuildingsEmissionsCalculator\")"},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"BuildingsEmissionsCalculator","text":"basic example shows solve common problem:","code":"library(BuildingsEmissionsCalculator) ## TODO basic example code"},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/index.html","id":"coding-style","dir":"","previous_headings":"","what":"Coding style","title":"BuildingsEmissionsCalculator","text":"Tidyverse style used -> style.tidyverse.org.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/euclidean_distance.html","id":null,"dir":"Reference","previous_headings":"","what":"Euclidean Distance — euclidean_distance","title":"Euclidean Distance — euclidean_distance","text":"function calculates Euclidean distance two points 2D plane.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/euclidean_distance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Euclidean Distance — euclidean_distance","text":"","code":"euclidean_distance(x1, y1, x2, y2)"},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/euclidean_distance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Euclidean Distance — euclidean_distance","text":"x1 x-coordinate first point. y1 y-coordinate first point. x2 x-coordinate second point. y2 y-coordinate second point.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/euclidean_distance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Euclidean Distance — euclidean_distance","text":"Euclidean distance two points.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/fill_buildings_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Fill missing data in the buildings dataframe with RegBl data and computed CO2 emissions — fill_buildings_df","title":"Fill missing data in the buildings dataframe with RegBl data and computed CO2 emissions — fill_buildings_df","text":"function processes dataframe buildings, applying fill_building_data function row/building parallel. ensures input dataframe contains necessary columns, filling missing ones NA values, computes detailed building information CO2 emissions building. function leverages parallel computing capabilities enhance performance efficiency.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/fill_buildings_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fill missing data in the buildings dataframe with RegBl data and computed CO2 emissions — fill_buildings_df","text":"","code":"fill_buildings_df(buildings_df)"},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/fill_buildings_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fill missing data in the buildings dataframe with RegBl data and computed CO2 emissions — fill_buildings_df","text":"buildings_df dataframe row represents building contains minimal data needed enhancement, identifier used fetch additional data.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/fill_buildings_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fill missing data in the buildings dataframe with RegBl data and computed CO2 emissions — fill_buildings_df","text":"new dataframe structure buildings_df augmented detailed building data CO2 emissions computations building. data retrieved calculated, corresponding building error_comments field updated error message.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/fill_buildings_df.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fill missing data in the buildings dataframe with RegBl data and computed CO2 emissions — fill_buildings_df","text":"function first standardizes input dataframe ensure includes necessary columns, leveraging standardize_buildings_df function. , uses future.apply::future_lapply function apply fill_building_data building dataframe parallel, improving processing time multicore systems. building's data individually retrieved processed, results aggregated single dataframe returned end. parallel execution model can adjusted based system resources changing number workers future::plan call.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/fill_buildings_df.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fill missing data in the buildings dataframe with RegBl data and computed CO2 emissions — fill_buildings_df","text":"","code":"buildings_df <- data.frame(EGID = c(\"123456\", \"789012\")) enhanced_buildings_df <- fill_buildings_df(buildings_df)"},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/fill_building_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve and Enhance Building Data with RegBl data and CO2 Emissions Calculations — fill_building_data","title":"Retrieve and Enhance Building Data with RegBl data and CO2 Emissions Calculations — fill_building_data","text":"function enriches given building's data record fetching additional details RegBl API, converting data SIA format used co2calculatorPACTA2022 package, computing building's CO2 emissions. building demolished, indicated non-NA GABBJ value, function halts reports demolition. Otherwise, proceeds convert format building data calculate emissions using various building attributes.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/fill_building_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve and Enhance Building Data with RegBl data and CO2 Emissions Calculations — fill_building_data","text":"","code":"fill_building_data(building)"},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/fill_building_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve and Enhance Building Data with RegBl data and CO2 Emissions Calculations — fill_building_data","text":"building list data frame containing least minimal identifying information building, used fetch augment data RegBl database.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/fill_building_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve and Enhance Building Data with RegBl data and CO2 Emissions Calculations — fill_building_data","text":"enhanced version input building data, including additional details computed CO2 emissions.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/fill_building_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve and Enhance Building Data with RegBl data and CO2 Emissions Calculations — fill_building_data","text":"","code":"building_data <- list(EGID = \"123456\") enriched_building_data <- fill_building_data(building_data) #> Error in fill_building_data(building_data): could not find function \"fill_building_data\""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/find_closest_station.html","id":null,"dir":"Reference","previous_headings":"","what":"Find the Closest Meteorological Station — find_closest_station","title":"Find the Closest Meteorological Station — find_closest_station","text":"function calculates Euclidean distance given building list meteorological stations, returning code closest station.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/find_closest_station.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find the Closest Meteorological Station — find_closest_station","text":"","code":"find_closest_station(climate, building)"},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/find_closest_station.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find the Closest Meteorological Station — find_closest_station","text":"climate list meteorological stations, station object properties $easting, $northing, $code. Easting northing numeric values representing LV95 coordinate station. building object representing building, properties $DKODE easting $DKODN northing. numeric values representing LV95 coordinate building.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/find_closest_station.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find the Closest Meteorological Station — find_closest_station","text":"character string representing $code closest meteorological station given building.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/regbl_2_sia_converter.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Building Data from RegBl to SIA Format — regbl_2_sia_converter","title":"Convert Building Data from RegBl to SIA Format — regbl_2_sia_converter","text":"function converts building data retrieved RegBl database format required SIA (Swiss Society Engineers Architects) standards, specifically use co2calculatorPACTA2022 package (see https://maximecharriere.github.io/co2calculatorPACTA2022/).","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/regbl_2_sia_converter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Building Data from RegBl to SIA Format — regbl_2_sia_converter","text":"","code":"regbl_2_sia_converter(building)"},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/regbl_2_sia_converter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Building Data from RegBl to SIA Format — regbl_2_sia_converter","text":"building named list dataframe containing building data RegBl format.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/regbl_2_sia_converter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Building Data from RegBl to SIA Format — regbl_2_sia_converter","text":"building data structure additional values converted SIA format.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/regbl_2_sia_converter.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert Building Data from RegBl to SIA Format — regbl_2_sia_converter","text":"conversion rules applied function include: energy relevant area taken GEBF available, calculated GAREA times GASTW. construction year taken GBAUJ available, earliest year given GBAUP. closest climate station code determined given building location. utilisation key mapped RegBl building class (GKLAS) using lookup table. energy carrier mapped RegBl energy source type (GENH1) using lookup table. number floors (floors) year heating system installed (heating_install_year) directly assigned.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/request_regbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Request Building Information from RegBl — request_regbl","title":"Request Building Information from RegBl — request_regbl","text":"function sends request RegBl API retrieve detailed information building. request can made using either building's unique identifier (EGID) address components (DEINR, STRNAME, DPLZ4). function constructs XML request, sends RegBl API, processes response extract return building information.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/request_regbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Request Building Information from RegBl — request_regbl","text":"","code":"request_regbl(building)"},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/request_regbl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Request Building Information from RegBl — request_regbl","text":"building list data frame representing building, containing least EGID address components (DEINR, STRNAME, DPLZ4).","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/request_regbl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Request Building Information from RegBl — request_regbl","text":"modified version input building object, additional information filled RegBl response. unique building found, error occurs request, function stops error message.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/request_regbl.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Request Building Information from RegBl — request_regbl","text":"function first determines type request based available information building object: EGID available, constructs request based building's EGID. EGID available, address components , constructs request based building's address. function assembles XML request body, including unique message ID, application details, appropriate query parameters. sending request RegBl API endpoint receiving response, function checks errors , successful, extracts relevant data response XML fill building information. also logs XML response record-keeping validation. function requires .constants$buildings_df_columns object defined elsewhere package contains necessary metadata expected building data fields, including corresponding xpaths RegBl response XML schema. information RegBl MADD API, refer : https://www.housing-stat.ch/fr/madd/restricted/ech-0206.html details finding XPath names node web service request RegBl, consult eCH-0206 standard: https://www.housing-stat.ch/files/STAN_d_DRA_2020-07-21_eCH-0206_V2.0_GWR-Daten_an_Dritte_Draft-0.99.pdf Variable names RegBl data taken \"Catalogue des caractères - Registre fédéral des bâtiments et des logements 4.2\": https://www.bfs.admin.ch/asset/fr/22905271","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/request_regbl.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Request Building Information from RegBl — request_regbl","text":"","code":"building <- list(EGID = 123456) updated_building <- request_regbl(building) #> Error in request_regbl(building): could not find function \"request_regbl\""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/standardize_buildings_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardize the Structure of a Building Data Frame — standardize_buildings_df","title":"Standardize the Structure of a Building Data Frame — standardize_buildings_df","text":"function ensures given building data frame contains specific set columns. checks data frame provided list column names adds missing, initializing NA values. standardization essential consistent data handling analysis, particularly integrating multiple building data sets potentially varying structures.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/standardize_buildings_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardize the Structure of a Building Data Frame — standardize_buildings_df","text":"","code":"standardize_buildings_df(buildings_df, buildings_df_columns_names)"},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/standardize_buildings_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardize the Structure of a Building Data Frame — standardize_buildings_df","text":"buildings_df data frame containing building information needs standardized. buildings_df_columns_names character vector specifying desired set column names present buildings data frame.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/standardize_buildings_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardize the Structure of a Building Data Frame — standardize_buildings_df","text":"input data frame augmented missing columns specified set, NA values new columns.","code":""},{"path":"https://maximecharriere.github.io/BuildingsEmissionsCalculator/reference/standardize_buildings_df.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standardize the Structure of a Building Data Frame — standardize_buildings_df","text":"","code":"buildings_df <- data.frame(EGID = c(12345, 67890), STRNAME = c(\"Main St\", \"Second St\")) desired_columns <- c(\"EGID\", \"STRNAME\", \"DEINR\", \"DPLZ4\") standardized_df <- standardize_buildings_df(buildings_df, desired_columns) #> Error in standardize_buildings_df(buildings_df, desired_columns): could not find function \"standardize_buildings_df\" # standardized_df will now include DEINR and DPLZ4 columns with NA values."}]
